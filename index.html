<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Tic-Tac-Toe</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&display=swap" rel="stylesheet">
    <style>
      body {
        font-family: 'Orbitron', sans-serif;
      }
      /* Custom animation for marker appearance */
      @keyframes marker-appear {
        0% { transform: scale(0.5); opacity: 0; }
        100% { transform: scale(1); opacity: 1; }
      }
      .animate-marker-appear {
        animation: marker-appear 0.3s ease-out forwards;
      }
      /* Custom animation for winning line */
      @keyframes draw-line {
        0% { transform: scaleX(0); }
        100% { transform: scaleX(1); }
      }
      .animate-draw-line {
        animation: draw-line 0.5s ease-in-out forwards;
      }
      /* Custom animation for winning cells */
      @keyframes winning-cell-pulse-x {
        0%, 100% { 
          transform: scale(1); 
          box-shadow: 0 0 20px 5px #0ea5e9, inset 0 0 15px 0px #0ea5e9;
        }
        50% { 
          transform: scale(1.05);
          box-shadow: 0 0 30px 10px #0ea5e9, inset 0 0 20px 2px #0ea5e9;
        }
      }

      @keyframes winning-cell-pulse-o {
        0%, 100% { 
          transform: scale(1); 
          box-shadow: 0 0 20px 5px #f97316, inset 0 0 15px 0px #f97316;
        }
        50% { 
          transform: scale(1.05);
          box-shadow: 0 0 30px 10px #f97316, inset 0 0 20px 2px #f97316;
        }
      }

      .animate-winning-cell-x {
        animation: winning-cell-pulse-x 1.5s ease-in-out infinite;
        border-color: transparent !important; /* Override hover borders */
      }
      
      .animate-winning-cell-o {
        animation: winning-cell-pulse-o 1.5s ease-in-out infinite;
        border-color: transparent !important; /* Override hover borders */
      }
    </style>
  <script type="importmap">
{
  "imports": {
    "react": "https://aistudiocdn.com/react@^19.2.0",
    "react-dom/": "https://aistudiocdn.com/react-dom@^19.2.0/",
    "react/": "https://aistudiocdn.com/react@^19.2.0/",
    "@google/genai": "https://aistudiocdn.com/@google/genai@^1.22.0"
  }
}
</script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  <script src="env.js"></script>
</head>
  <body class="bg-slate-900 text-white">
    <!-- Fallback message for users opening the file directly -->
    <div id="fallback-message" style="display: none; padding: 2rem; text-align: center; font-family: sans-serif;">
      <div style="max-width: 600px; margin: 40px auto; background-color: #1e293b; border-radius: 8px; border: 1px solid #334155; padding: 24px;">
        <h1 style="font-size: 2rem; font-weight: bold; color: #e2e8f0; margin-bottom: 16px;">Game Failed to Load</h1>
        <p style="font-size: 1.1rem; color: #94a3b8; margin-bottom: 24px;">
          This happens when you open the <code>index.html</code> file directly from your computer. Modern web apps need to be served by a simple web server to work correctly.
        </p>
        <div style="background-color: #0f172a; padding: 16px; border-radius: 4px; text-align: left; font-family: monospace; color: #cbd5e1;">
          <p style="margin-bottom: 8px;"><strong>Quick Fix:</strong></p>
          <p>1. Open a terminal in this project's folder.</p>
          <p>2. Run one of these commands:</p>
          <p style="margin-top: 8px;"><code>npx serve</code> (if you have Node.js)</p>
          <p><code>python -m http.server</code> (if you have Python)</p>
          <p style="margin-top: 8px;">3. Open the provided <code>http://localhost...</code> address in your browser.</p>
        </div>
        <p style="font-size: 0.9rem; color: #64748b; margin-top: 24px;">
          For more details, please see the <code>README.md</code> file.
        </p>
      </div>
    </div>

    <div id="root"></div>

    <script>
      // This script runs before the main app script.
      // If the page is opened as a local file, it shows a helpful message
      // instead of a blank screen, as modern JS modules won't load.
      if (window.location.protocol === 'file:') {
        document.getElementById('root').style.display = 'none';
        document.getElementById('fallback-message').style.display = 'block';
      }
    </script>
    <script type="text/babel" data-type="module" src="./index.tsx"></script>
  </body>
</html>